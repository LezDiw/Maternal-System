<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Family/Friends Dashboard</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f9fafb; }
    header { background: #2a6f97; color: white; padding: 1rem; text-align: center; }
    .dashboard { display: flex; flex-wrap: wrap; padding: 1rem; gap: 1rem; }
    .updates-section, .communication-section {
        background: white; border-radius: 8px; padding: 1rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .updates-section { flex: 2; min-width: 350px; }
    .communication-section { flex: 1; min-width: 300px; display: flex; flex-direction: column; }
    .update-card {
        background: #f4f8fb; border-left: 5px solid #2a6f97; padding: 0.8rem;
        margin-bottom: 0.5rem; border-radius: 4px;
    }
    .chat-tabs { display: flex; margin-bottom: 0.5rem; }
    .tab-btn { flex: 1; padding: 0.5rem; cursor: pointer; background: #ddd; border: none; }
    .tab-btn.active { background: #2a6f97; color: white; }
    .chat-window { display: none; flex-direction: column; flex: 1; }
    .chat-window.active { display: flex; }
    .chat-messages { flex: 1; background: #f1f1f1; margin-bottom: 0.5rem; padding: 0.5rem; overflow-y: auto; border-radius: 4px; }
    .send-btn { background: #2a6f97; color: white; cursor: pointer; margin-top: 0.2rem; }
    .alerts-section { margin-top: 1rem; background: #fff7f7; border-radius: 4px; padding: 0.5rem; }
    .alerts-section h3 { margin-top: 0; }
    .alerts-section ul { list-style: none; padding-left: 0; }
    .alerts-section li { background: #ffe5e5; padding: 0.4rem; margin-bottom: 0.3rem; border-radius: 4px; }
</style>
</head>
<body>
<header>
    <h1>Maternal Care System - Family & Friends Dashboard</h1>
</header>

<main class="dashboard">
    <!-- Left: Patient Updates -->
    <section class="updates-section">
        <h2>Patient Updates</h2>
        <div class="update-card">
            <strong>Mary Wanjiku</strong> - 15 weeks pregnant.  
            Next hospital visit: 15 Aug 2025.
        </div>
        <div class="update-card">
            <strong>Jane Doe</strong> - Doctor reported high blood pressure.  
            Needs check-up on 13 Aug 2025.
        </div>
    </section>

    <!-- Right: Communication & Alerts -->
    <section class="communication-section">
        <div class="chat-tabs">
            <button class="tab-btn active" data-tab="patientChat">Chat with Patient</button>
            <button class="tab-btn" data-tab="aiChat">AI Assistant</button>
        </div>

        <!-- Chat Windows -->
        <div class="chat-window active" id="patientChat">
            <div class="chat-messages" id="patientMessages"></div>
            <input type="text" id="patientInput" placeholder="Send message to patient...">
            <button class="send-btn" onclick="sendMessage('patient')">Send</button>
        </div>

        <div class="chat-window" id="aiChat">
            <div class="chat-messages" id="aiMessages"></div>
            <input type="text" id="aiInput" placeholder="Ask AI for pregnancy tips...">
            <button class="send-btn" onclick="sendMessage('ai')">Send</button>
        </div>

        <!-- Alerts -->
        <div class="alerts-section">
            <h3>Alerts</h3>
            <ul id="alertList">
                <li>Jane Doe - High BP reported. Monitor closely.</li>
            </ul>
            <h3>Reminders</h3>
            <ul id="reminderList">
                <li>Accompany Mary Wanjiku to clinic on 15 Aug 2025</li>
            </ul>
        </div>
    </section>
</main>

<script>
    // Tab switching
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.chat-window').forEach(w => w.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById(btn.dataset.tab).classList.add('active');
        });
    });

    // Send messages
    function sendMessage(type) {
        const input = document.getElementById(`${type}Input`);
        const messagesDiv = document.getElementById(`${type}Messages`);
        const message = input.value.trim();
        if (message) {
            messagesDiv.innerHTML += `<div><strong>You:</strong> ${message}</div>`;
            input.value = '';
            messagesDiv.scrollTop = messagesDiv.scrollHeight;

            if (type === 'ai') {
                setTimeout(() => {
                    messagesDiv.innerHTML += `<div><strong>AI:</strong> ${generateAIResponse(message)}</div>`;
                    messagesDiv.scrollTop = messagesDiv.scrollHeight;
                }, 1000);
            }
        }
    }

    // Simple AI responses
    function generateAIResponse(q) {
        const lowerQ = q.toLowerCase();
        if (lowerQ.includes('visit')) return "Remind the patient to carry all previous medical records.";
        if (lowerQ.includes('bp') || lowerQ.includes('blood pressure')) return "Encourage them to rest and follow doctor's advice.";
        return "Support them emotionally and remind them of their next appointment.";
    }
</script>
</body>
</html>
